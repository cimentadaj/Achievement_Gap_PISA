ggplot(aes(as.factor(wave), gap_size, group = ses, colour = ses)) +
geom_line(stat = "smooth", method = "lm", aes(group = 1),
formula = y ~ splines::ns(x, 3), linetype = "longdash",
colour = "black") +
geom_errorbar(aes(ymin = lower, ymax = upper), width = 0.1, alpha = 0.4) +
geom_hline(yintercept = 0, linetype = "longdash") +
geom_line(alpha = 0.4) +
geom_point(size = 0.5, alpha = 0.4) +
coord_cartesian(ylim = c(0, 3)) +
facet_wrap(~ country)
complete_data_topbottom %>%
filter(country %in% countries) %>%
mutate(country = factor(country, levels = ordered_cnt, ordered = TRUE)) %>%
select(wave, country, matches("(mean|lower)_math$")) %>%
gather(ses, gap_size, matches("^\\d_mean_math$")) %>%
separate(ses, c("ses", "delete"), sep = 2) %>%
mutate(ses = gsub("_", "", ses))
complete_data_topbottom %>%
filter(country %in% countries) %>%
mutate(country = factor(country, levels = ordered_cnt, ordered = TRUE)) %>%
select(wave, country, matches("*._math$"))
complete_data_topbottom %>%
filter(country %in% countries) %>%
mutate(country = factor(country, levels = ordered_cnt, ordered = TRUE)) %>%
select(wave, country, matches("*._math$")) %>%
gather(ses, gap_size, matches("^\\d_mean_math$"))
complete_data_topbottom %>%
filter(country %in% countries) %>%
mutate(country = factor(country, levels = ordered_cnt, ordered = TRUE)) %>%
select(wave, country, matches("*._math$")) %>%
gather(ses, gap_size, matches("^\\d_mean_math$")) %>%
separate(ses, c("ses", "delete"), sep = 2) %>%
mutate(ses = gsub("_", "", ses))
complete_data_topbottom %>%
filter(country %in% countries) %>%
mutate(country = factor(country, levels = ordered_cnt, ordered = TRUE)) %>%
select(wave, country, matches("*._math$")) %>%
gather(ses, gap_size, matches("^\\d_mean_math$")) %>%
separate(ses, c("ses", "delete"), sep = 2) %>%
mutate(ses = gsub("_", "", ses)) %>%
gather(lower_bound, lower, matches("\\d_lower"))
complete_data_topbottom %>%
filter(country %in% countries) %>%
mutate(country = factor(country, levels = ordered_cnt, ordered = TRUE)) %>%
select(wave, country, matches("*._math$")) %>%
gather(ses, gap_size, matches("^\\d_mean_math$")) %>%
separate(ses, c("ses", "delete"), sep = 2) %>%
mutate(ses = gsub("_", "", ses)) %>%
gather(lower_bound, lower, matches("\\d_lower")) %>%
gather(upper_bound, upper, matches("\\d_upper"))
View(complete_data_topbottom %>%
filter(country %in% countries) %>%
mutate(country = factor(country, levels = ordered_cnt, ordered = TRUE)) %>%
select(wave, country, matches("*._math$")) %>%
gather(ses, gap_size, matches("^\\d_mean_math$")) %>%
separate(ses, c("ses", "delete"), sep = 2) %>%
mutate(ses = gsub("_", "", ses)) %>%
gather(lower_bound, lower, matches("\\d_lower")) %>%
gather(upper_bound, upper, matches("\\d_upper")))
complete_data_topbottom %>%
filter(country %in% countries) %>%
mutate(country = factor(country, levels = ordered_cnt, ordered = TRUE)) %>%
select(wave, country, matches("*._math$")) %>%
gather(ses, gap_size, matches("^\\d_mean_math$")) %>%
separate(ses, c("ses", "delete"), sep = 2) %>%
mutate(ses = gsub("_", "", ses)) %>%
# gather(lower_bound, lower, matches("\\d_lower")) %>%
# gather(upper_bound, upper, matches("\\d_upper"))
ggplot(aes(as.factor(wave), gap_size, group = ses, colour = ses)) +
geom_line(stat = "smooth", method = "lm", aes(group = 1),
formula = y ~ splines::ns(x, 3), linetype = "longdash",
colour = "black") +
# geom_errorbar(aes(ymin = lower, ymax = upper), width = 0.1, alpha = 0.4) +
geom_hline(yintercept = 0, linetype = "longdash") +
geom_line(alpha = 0.4) +
geom_point(size = 0.5, alpha = 0.4) +
coord_cartesian(ylim = c(0, 3)) +
facet_wrap(~ country)
complete_data_topbottom %>%
filter(country %in% countries) %>%
mutate(country = factor(country, levels = ordered_cnt, ordered = TRUE)) %>%
select(wave, country, matches("*._math$")) %>%
gather(ses, gap_size, matches("^\\d_mean_math$")) %>%
separate(ses, c("ses", "delete"), sep = 2) %>%
mutate(ses = gsub("_", "", ses))
complete_data_topbottom %>%
filter(country %in% countries) %>%
mutate(country = factor(country, levels = ordered_cnt, ordered = TRUE)) %>%
select(wave, country, matches("*._math$")) %>%
gather(ses, gap_size, matches("^\\d_mean_math$")) %>%
separate(ses, c("ses", "delete"), sep = 2) %>%
mutate(ses = gsub("_", "", ses)) %>%
# gather(lower_bound, lower, matches("\\d_lower")) %>%
# gather(upper_bound, upper, matches("\\d_upper"))
ggplot(aes(as.factor(wave), gap_size, group = ses, colour = ses)) +
# geom_line(stat = "smooth", method = "lm", aes(group = 1),
#           formula = y ~ splines::ns(x, 3), linetype = "longdash",
#           colour = "black") +
# geom_errorbar(aes(ymin = lower, ymax = upper), width = 0.1, alpha = 0.4) +
geom_hline(yintercept = 0, linetype = "longdash") +
geom_line(alpha = 0.4) +
geom_point(size = 0.5, alpha = 0.4) +
coord_cartesian(ylim = c(0, 3)) +
facet_wrap(~ country)
complete_data_topbottom %>%
filter(country %in% countries) %>%
mutate(country = factor(country, levels = ordered_cnt, ordered = TRUE)) %>%
select(wave, country, matches("*._math$")) %>%
gather(ses, gap_size, matches("^\\d_mean_math$")) %>%
separate(ses, c("ses", "delete"), sep = 2) %>%
mutate(ses = gsub("_", "", ses)) %>%
# gather(lower_bound, lower, matches("\\d_lower")) %>%
# gather(upper_bound, upper, matches("\\d_upper"))
ggplot(aes(as.factor(wave), gap_size, group = ses, colour = ses)) +
# geom_line(stat = "smooth", method = "lm", aes(group = 1),
#           formula = y ~ splines::ns(x, 3), linetype = "longdash",
#           colour = "black") +
# geom_errorbar(aes(ymin = lower, ymax = upper), width = 0.1, alpha = 0.4) +
geom_hline(yintercept = 0, linetype = "longdash") +
geom_line(alpha = 0.4) +
geom_point(size = 0.5, alpha = 0.4) +
# coord_cartesian(ylim = c(0, 3)) +
facet_wrap(~ country)
complete_data_topbottom %>%
filter(country %in% countries) %>%
mutate(country = factor(country, levels = ordered_cnt, ordered = TRUE)) %>%
select(wave, country, matches("*._math$")) %>%
gather(ses, gap_size, matches("^\\d_mean_math$")) %>%
separate(ses, c("ses", "delete"), sep = 2) %>%
mutate(ses = gsub("_", "", ses)) %>%
# gather(lower_bound, lower, matches("\\d_lower")) %>%
# gather(upper_bound, upper, matches("\\d_upper"))
ggplot(aes(as.factor(wave), gap_size, group = ses, colour = ses)) +
# geom_line(stat = "smooth", method = "lm", aes(group = 1),
#           formula = y ~ splines::ns(x, 3), linetype = "longdash",
#           colour = "black") +
# geom_errorbar(aes(ymin = lower, ymax = upper), width = 0.1, alpha = 0.4) +
# geom_hline(yintercept = 0, linetype = "longdash") +
geom_line(alpha = 0.4) +
geom_point(size = 0.5, alpha = 0.4) +
# coord_cartesian(ylim = c(0, 3)) +
facet_wrap(~ country)
complete_data_topbottom %>%
filter(country %in% countries) %>%
mutate(country = factor(country, levels = ordered_cnt, ordered = TRUE)) %>%
select(wave, country, matches("*._math$")) %>%
gather(ses, gap_size, matches("^\\d_mean_math$")) %>%
separate(ses, c("ses", "delete"), sep = 2) %>%
mutate(ses = gsub("_", "", ses)) %>%
# gather(lower_bound, lower, matches("\\d_lower")) %>%
# gather(upper_bound, upper, matches("\\d_upper"))
ggplot(aes(as.factor(wave), gap_size, group = ses, colour = ses)) +
# geom_line(stat = "smooth", method = "lm", aes(group = 1),
#           formula = y ~ splines::ns(x, 3), linetype = "longdash",
#           colour = "black") +
# geom_errorbar(aes(ymin = lower, ymax = upper), width = 0.1, alpha = 0.4) +
# geom_hline(yintercept = 0, linetype = "longdash") +
geom_line(aes(group = ses), alpha = 0.4) +
geom_point(size = 0.5, alpha = 0.4) +
# coord_cartesian(ylim = c(0, 3)) +
facet_wrap(~ country)
complete_data_topbottom %>%
filter(country %in% countries) %>%
mutate(country = factor(country, levels = ordered_cnt, ordered = TRUE)) %>%
select(wave, country, matches("*._math$")) %>%
gather(ses, gap_size, matches("^\\d_mean_math$")) %>%
separate(ses, c("ses", "delete"), sep = 2) %>%
mutate(ses = gsub("_", "", ses)) %>%
# gather(lower_bound, lower, matches("\\d_lower")) %>%
# gather(upper_bound, upper, matches("\\d_upper"))
ggplot(aes(as.factor(wave), gap_size, group = ses, colour = ses)) +
geom_point(size = 0.5, alpha = 0.4) +
geom_line(alpha = 0.4) +
# geom_line(stat = "smooth", method = "lm", aes(group = 1),
#           formula = y ~ splines::ns(x, 3), linetype = "longdash",
#           colour = "black") +
# geom_errorbar(aes(ymin = lower, ymax = upper), width = 0.1, alpha = 0.4) +
# geom_hline(yintercept = 0, linetype = "longdash") +
# coord_cartesian(ylim = c(0, 3)) +
facet_wrap(~ country)
complete_data_topbottom %>%
filter(country %in% countries) %>%
mutate(country = factor(country, levels = ordered_cnt, ordered = TRUE)) %>%
select(wave, country, matches("*._math$")) %>%
gather(ses, gap_size, matches("^\\d_mean_math$")) %>%
separate(ses, c("ses", "delete"), sep = 2) %>%
mutate(ses = gsub("_", "", ses)) %>%
# gather(lower_bound, lower, matches("\\d_lower")) %>%
# gather(upper_bound, upper, matches("\\d_upper"))
ggplot(aes(as.factor(wave), gap_size, colour = ses)) +
geom_point(size = 0.5, alpha = 0.4) +
geom_line(aes(group = ses), alpha = 0.4) +
# geom_line(stat = "smooth", method = "lm", aes(group = 1),
#           formula = y ~ splines::ns(x, 3), linetype = "longdash",
#           colour = "black") +
# geom_errorbar(aes(ymin = lower, ymax = upper), width = 0.1, alpha = 0.4) +
# geom_hline(yintercept = 0, linetype = "longdash") +
# coord_cartesian(ylim = c(0, 3)) +
facet_wrap(~ country)
complete_data_topbottom %>%
filter(country %in% countries) %>%
mutate(country = factor(country, levels = ordered_cnt, ordered = TRUE)) %>%
select(wave, country, matches("*._math$")) %>%
gather(ses, gap_size, matches("^\\d_mean_math$")) %>%
separate(ses, c("ses", "delete"), sep = 2) %>%
mutate(ses = gsub("_", "", ses)) %>%
# gather(lower_bound, lower, matches("\\d_lower")) %>%
# gather(upper_bound, upper, matches("\\d_upper"))
ggplot(aes(as.factor(wave), gap_size, colour = ses)) +
geom_point(size = 0.5, alpha = 0.4) +
geom_line(aes(group = as.character(ses)), alpha = 0.4) +
# geom_line(stat = "smooth", method = "lm", aes(group = 1),
#           formula = y ~ splines::ns(x, 3), linetype = "longdash",
#           colour = "black") +
# geom_errorbar(aes(ymin = lower, ymax = upper), width = 0.1, alpha = 0.4) +
# geom_hline(yintercept = 0, linetype = "longdash") +
# coord_cartesian(ylim = c(0, 3)) +
facet_wrap(~ country)
complete_data_topbottom %>%
filter(country %in% countries) %>%
mutate(country = factor(country, levels = ordered_cnt, ordered = TRUE)) %>%
select(wave, country, matches("*._math$")) %>%
gather(ses, gap_size, matches("^\\d_mean_math$")) %>%
separate(ses, c("ses", "delete"), sep = 2) %>%
mutate(ses = gsub("_", "", ses)) %>%
# gather(lower_bound, lower, matches("\\d_lower")) %>%
# gather(upper_bound, upper, matches("\\d_upper"))
ggplot(aes(as.factor(wave), gap_size, colour = ses)) +
geom_point(size = 0.5, alpha = 0.4) +
geom_line(aes(group = as.factor(ses)), alpha = 0.4) +
# geom_line(stat = "smooth", method = "lm", aes(group = 1),
#           formula = y ~ splines::ns(x, 3), linetype = "longdash",
#           colour = "black") +
# geom_errorbar(aes(ymin = lower, ymax = upper), width = 0.1, alpha = 0.4) +
# geom_hline(yintercept = 0, linetype = "longdash") +
# coord_cartesian(ylim = c(0, 3)) +
facet_wrap(~ country)
complete_data_topbottom %>%
filter(country %in% countries) %>%
mutate(country = factor(country, levels = ordered_cnt, ordered = TRUE)) %>%
select(wave, country, matches("*._math$")) %>%
gather(ses, gap_size, matches("^\\d_mean_math$")) %>%
separate(ses, c("ses", "delete"), sep = 2) %>%
mutate(ses = gsub("_", "", ses)) %>%
# gather(lower_bound, lower, matches("\\d_lower")) %>%
# gather(upper_bound, upper, matches("\\d_upper"))
ggplot(aes(as.factor(wave), gap_size, colour = ses)) +
geom_line(aes(group = as.factor(ses)), alpha = 0.4) +
# geom_line(stat = "smooth", method = "lm", aes(group = 1),
#           formula = y ~ splines::ns(x, 3), linetype = "longdash",
#           colour = "black") +
# geom_errorbar(aes(ymin = lower, ymax = upper), width = 0.1, alpha = 0.4) +
# geom_hline(yintercept = 0, linetype = "longdash") +
# coord_cartesian(ylim = c(0, 3)) +
facet_wrap(~ country)
complete_data_topbottom %>%
filter(country %in% countries) %>%
mutate(country = factor(country, levels = ordered_cnt, ordered = TRUE)) %>%
select(wave, country, matches("*._math$")) %>%
gather(ses, gap_size, matches("^\\d_mean_math$")) %>%
separate(ses, c("ses", "delete"), sep = 2) %>%
mutate(ses = gsub("_", "", ses)) %>%
# gather(lower_bound, lower, matches("\\d_lower")) %>%
# gather(upper_bound, upper, matches("\\d_upper"))
ggplot(aes(as.factor(wave), gap_size, colour = as.factor(ses))) +
geom_line(aes(group = as.factor(ses)), alpha = 0.4) +
# geom_line(stat = "smooth", method = "lm", aes(group = 1),
#           formula = y ~ splines::ns(x, 3), linetype = "longdash",
#           colour = "black") +
# geom_errorbar(aes(ymin = lower, ymax = upper), width = 0.1, alpha = 0.4) +
# geom_hline(yintercept = 0, linetype = "longdash") +
# coord_cartesian(ylim = c(0, 3)) +
facet_wrap(~ country)
complete_data_topbottom %>%
filter(country %in% countries) %>%
mutate(country = factor(country, levels = ordered_cnt, ordered = TRUE)) %>%
select(wave, country, matches("*._math$")) %>%
gather(ses, gap_size, matches("^\\d_mean_math$")) %>%
separate(ses, c("ses", "delete"), sep = 2) %>%
mutate(ses = gsub("_", "", ses)) %>%
# gather(lower_bound, lower, matches("\\d_lower")) %>%
# gather(upper_bound, upper, matches("\\d_upper"))
ggplot(aes(as.factor(wave), gap_size, group = as.factor(ses), colour = as.factor(ses))) +
geom_line(alpha = 0.4) +
# geom_line(stat = "smooth", method = "lm", aes(group = 1),
#           formula = y ~ splines::ns(x, 3), linetype = "longdash",
#           colour = "black") +
# geom_errorbar(aes(ymin = lower, ymax = upper), width = 0.1, alpha = 0.4) +
# geom_hline(yintercept = 0, linetype = "longdash") +
# coord_cartesian(ylim = c(0, 3)) +
facet_wrap(~ country)
complete_data_topbottom %>%
filter(country %in% countries) %>%
mutate(country = factor(country, levels = ordered_cnt, ordered = TRUE)) %>%
select(wave, country, matches("*._math$")) %>%
gather(ses, gap_size, matches("^\\d_mean_math$")) %>%
separate(ses, c("ses", "delete"), sep = 2) %>%
mutate(ses = gsub("_", "", ses))
View(complete_data_topbottom %>%
filter(country %in% countries) %>%
mutate(country = factor(country, levels = ordered_cnt, ordered = TRUE)) %>%
select(wave, country, matches("*._math$")) %>%
gather(ses, gap_size, matches("^\\d_mean_math$")) %>%
separate(ses, c("ses", "delete"), sep = 2) %>%
mutate(ses = gsub("_", "", ses)))
complete_data_topbottom %>%
filter(country %in% countries) %>%
mutate(country = factor(country, levels = ordered_cnt, ordered = TRUE)) %>%
select(wave, country, matches("*._math$")) %>%
gather(ses, gap_size, matches("^\\d_mean_math$")) %>%
separate(ses, c("ses", "delete"), sep = 2) %>%
mutate(ses = gsub("_", "", ses))
complete_data_topbottom %>%
filter(country %in% countries) %>%
mutate(country = factor(country, levels = ordered_cnt, ordered = TRUE)) %>%
select(wave, country, matches("*._math$")) %>%
gather(ses, gap_size, matches("^\\d_mean_math$")) %>%
separate(ses, c("ses", "delete"), sep = 2) %>%
mutate(ses = gsub("_", "", ses)) %>%
filter(complete.cases(.))
complete_data_topbottom %>%
filter(country %in% countries) %>%
mutate(country = factor(country, levels = ordered_cnt, ordered = TRUE)) %>%
select(wave, country, matches("*._math$")) %>%
gather(ses, gap_size, matches("^\\d_mean_math$")) %>%
separate(ses, c("ses", "delete"), sep = 2) %>%
mutate(ses = gsub("_", "", ses)) %>%
filter(complete.cases(.)) %>%
# gather(lower_bound, lower, matches("\\d_lower")) %>%
# gather(upper_bound, upper, matches("\\d_upper"))
ggplot(aes(as.factor(wave), gap_size, group = as.factor(ses), colour = as.factor(ses))) +
geom_line(alpha = 0.4) +
# geom_line(stat = "smooth", method = "lm", aes(group = 1),
#           formula = y ~ splines::ns(x, 3), linetype = "longdash",
#           colour = "black") +
# geom_errorbar(aes(ymin = lower, ymax = upper), width = 0.1, alpha = 0.4) +
# geom_hline(yintercept = 0, linetype = "longdash") +
# coord_cartesian(ylim = c(0, 3)) +
facet_wrap(~ country)
complete_data_topbottom %>%
filter(country %in% countries) %>%
mutate(country = factor(country, levels = ordered_cnt, ordered = TRUE)) %>%
select(wave, country, matches("*._math$")) %>%
gather(ses, gap_size, matches("^\\d_mean_math$")) %>%
separate(ses, c("ses", "delete"), sep = 2) %>%
mutate(ses = gsub("_", "", ses)) %>%
filter(complete.cases(.)) %>%
# gather(lower_bound, lower, matches("\\d_lower")) %>%
# gather(upper_bound, upper, matches("\\d_upper"))
ggplot(aes(as.factor(wave), gap_size, group = ses, colour = ses)) +
geom_point(size = 0.5, alpha = 0.4) +
geom_line(alpha = 0.4) +
# geom_line(stat = "smooth", method = "lm", aes(group = 1),
#           formula = y ~ splines::ns(x, 3), linetype = "longdash",
#           colour = "black") +
# geom_errorbar(aes(ymin = lower, ymax = upper), width = 0.1, alpha = 0.4) +
# geom_hline(yintercept = 0, linetype = "longdash") +
# coord_cartesian(ylim = c(0, 3)) +
facet_wrap(~ country)
complete_data_topbottom %>%
filter(country %in% countries) %>%
mutate(country = factor(country, levels = ordered_cnt, ordered = TRUE)) %>%
select(wave, country, matches("*._math$")) %>%
gather(ses, gap_size, matches("^\\d_mean_math$")) %>%
separate(ses, c("ses", "delete"), sep = 2) %>%
mutate(ses = gsub("_", "", ses)) %>%
filter(complete.cases(.)) %>%
# gather(lower_bound, lower, matches("\\d_lower")) %>%
# gather(upper_bound, upper, matches("\\d_upper"))
ggplot(aes(as.factor(wave), gap_size, group = ses, colour = ses)) +
geom_point(size = 0.5, alpha = 0.4) +
geom_line(alpha = 0.4) +
geom_line(stat = "smooth", method = "lm", aes(group = 1),
formula = y ~ splines::ns(x, 3), linetype = "longdash",
colour = "black") +
# geom_errorbar(aes(ymin = lower, ymax = upper), width = 0.1, alpha = 0.4) +
# geom_hline(yintercept = 0, linetype = "longdash") +
# coord_cartesian(ylim = c(0, 3)) +
facet_wrap(~ country)
tibble(country = "fake_country", years = seq(2000, 2025, 5))
tibble(country = "fake_country", years = seq(2000, 2025, 2))
tibble(country = "fake_country", years = seq(2000, 2025, 2), ses = rep(c("lower", "upper"), each = 13))
tibble(country = "fake_country", years = rep(seq(2000, 2025, 2), 2), ses = rep(c("lower", "upper"), each = 13))
lower <- seq(1, 13, 1)
lower
lower <- seq(13, 1, -1)
upper <- seq(1, 26, 5)
lower
upper
lower <- seq(13, 1, -1)
upper <- seq(1, 26, 2)
lower
upper
tibble(country = "fake_country",
years = rep(seq(2000, 2025, 2), 2),
ses = rep(c("lower", "upper"), each = 13),
value = c(lower, upper))
df %>%
ggplot(aes(as.factor(years), value, group = ses, colour = ses)) +
geom_point(size = 0.5, alpha = 0.4) +
geom_line(alpha = 0.4) +
geom_line(stat = "smooth", method = "lm", aes(group = 1),
formula = y ~ splines::ns(x, 3), linetype = "longdash",
colour = "black") +
# geom_errorbar(aes(ymin = lower, ymax = upper), width = 0.1, alpha = 0.4) +
# geom_hline(yintercept = 0, linetype = "longdash") +
# coord_cartesian(ylim = c(0, 3)) +
facet_wrap(~ country)
df <- tibble(country = "fake_country",
years = rep(seq(2000, 2025, 2), 2),
ses = rep(c("lower", "upper"), each = 13),
value = c(lower, upper))
df %>%
ggplot(aes(as.factor(years), value, group = ses, colour = ses)) +
geom_point(size = 0.5, alpha = 0.4) +
geom_line(alpha = 0.4) +
geom_line(stat = "smooth", method = "lm", aes(group = 1),
formula = y ~ splines::ns(x, 3), linetype = "longdash",
colour = "black") +
# geom_errorbar(aes(ymin = lower, ymax = upper), width = 0.1, alpha = 0.4) +
# geom_hline(yintercept = 0, linetype = "longdash") +
# coord_cartesian(ylim = c(0, 3)) +
facet_wrap(~ country)
lower <- seq(13, 1, -1)
upper <- seq(100, 126, 2)
df <- tibble(country = "fake_country",
years = rep(seq(2000, 2025, 2), 2),
ses = rep(c("lower", "upper"), each = 13),
value = c(lower, upper))
df %>%
ggplot(aes(as.factor(years), value, group = ses, colour = ses)) +
geom_point(size = 0.5, alpha = 0.4) +
geom_line(alpha = 0.4) +
geom_line(stat = "smooth", method = "lm", aes(group = 1),
formula = y ~ splines::ns(x, 3), linetype = "longdash",
colour = "black") +
# geom_errorbar(aes(ymin = lower, ymax = upper), width = 0.1, alpha = 0.4) +
# geom_hline(yintercept = 0, linetype = "longdash") +
# coord_cartesian(ylim = c(0, 3)) +
facet_wrap(~ country)
upper
lower
length(upper)
lower <- seq(13, 1, -1)
upper <- seq(100, 123, 2)
length(upper)
lower <- seq(13, 1, -1)
upper <- seq(100, 124, 2)
length(upper)
df <- tibble(country = "fake_country",
years = rep(seq(2000, 2025, 2), 2),
ses = rep(c("lower", "upper"), each = 13),
value = c(lower, upper))
df %>%
ggplot(aes(as.factor(years), value, group = ses, colour = ses)) +
geom_point(size = 0.5, alpha = 0.4) +
geom_line(alpha = 0.4) +
geom_line(stat = "smooth", method = "lm", aes(group = 1),
formula = y ~ splines::ns(x, 3), linetype = "longdash",
colour = "black") +
# geom_errorbar(aes(ymin = lower, ymax = upper), width = 0.1, alpha = 0.4) +
# geom_hline(yintercept = 0, linetype = "longdash") +
# coord_cartesian(ylim = c(0, 3)) +
facet_wrap(~ country)
upper <- seq(100, 128, 4)
length(upper)
upper <- seq(100, 136, 4)
length(upper)
upper <- seq(100, 139, 4)
length(upper)
upper <- seq(100, 146, 4)
length(upper)
upper <- seq(100, 149, 4)
length(upper)
lower <- seq(13, 1, -1)
length(lower)
df <- tibble(country = "fake_country",
years = rep(seq(2000, 2025, 2), 2),
ses = rep(c("lower", "upper"), each = 13),
value = c(lower, upper))
df %>%
ggplot(aes(as.factor(years), value, group = ses, colour = ses)) +
geom_point(size = 0.5, alpha = 0.4) +
geom_line(alpha = 0.4) +
geom_line(stat = "smooth", method = "lm", aes(group = 1),
formula = y ~ splines::ns(x, 3), linetype = "longdash",
colour = "black") +
# geom_errorbar(aes(ymin = lower, ymax = upper), width = 0.1, alpha = 0.4) +
# geom_hline(yintercept = 0, linetype = "longdash") +
# coord_cartesian(ylim = c(0, 3)) +
facet_wrap(~ country)
upper <- seq(100, 230, 10)
length(upper)
lower <- seq(13, 1, -1)
upper <- seq(100, 220, 10)
lower <- seq(13, 1, -1)
length(upper)
df <- tibble(country = "fake_country",
years = rep(seq(2000, 2025, 2), 2),
ses = rep(c("lower", "upper"), each = 13),
value = c(lower, upper))
df %>%
ggplot(aes(as.factor(years), value, group = ses, colour = ses)) +
geom_point(size = 0.5, alpha = 0.4) +
geom_line(alpha = 0.4) +
geom_line(stat = "smooth", method = "lm", aes(group = 1),
formula = y ~ splines::ns(x, 3), linetype = "longdash",
colour = "black") +
# geom_errorbar(aes(ymin = lower, ymax = upper), width = 0.1, alpha = 0.4) +
# geom_hline(yintercept = 0, linetype = "longdash") +
# coord_cartesian(ylim = c(0, 3)) +
facet_wrap(~ country)
